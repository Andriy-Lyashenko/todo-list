(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(23)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(3),m=n.n(c),i=(n(15),n(16),function(){return o.a.createElement("div",{className:"sidebar"},o.a.createElement("h1",null,"Dairy App"))}),r=n(1),s=n(4),l=n(5),u=n(7),d=n(6),f=n(8),v=(n(17),n(18),n(19),function(e){var t=e.item,n=e.setActive,a=e.remItem;return o.a.createElement("div",{className:"item_section"},o.a.createElement("p",{onClick:function(){return n(t.id)}},t.desc,t.active?o.a.createElement("div",{className:"active_item"}):"",o.a.createElement("span",{className:"quant_item"},t.comments.length)),o.a.createElement("button",{onClick:function(){return a(t)}},"Delete"))}),C=function(e){var t=e.todo,n=e.setActive,a=e.remItem,c=e.setItemValue,m=e.setItem,i=e.newItemValue;return o.a.createElement("div",{className:"todo_list"},o.a.createElement("div",{className:"td_container"},o.a.createElement("h1",null,"Items"),o.a.createElement("div",{className:"add_section"},o.a.createElement("input",{onChange:function(e){return c(e.target.value)},type:"text",value:i}),o.a.createElement("button",{onClick:function(){return m()}},"Add new")),t.map(function(e){return o.a.createElement(v,{key:e.id,remItem:a,setActive:n,item:e})})))},I=(n(20),n(21),function(e){var t=e.comment,n=e.remComment,a=e.editComment;return o.a.createElement("div",{className:"comment_item"},o.a.createElement("div",{style:{background:t.avatar},className:"ci_avatar"}),o.a.createElement("div",{className:"ci_description"}," ",t.text," "),o.a.createElement("button",{className:"ci_delete",onClick:function(){return n(t.id)}},"Delete"),o.a.createElement("button",{className:"ci_edit",onClick:function(){return a(t.id)}},"Edit"))}),E=function(e){var t=e.todo,n=e.setCommentValue,a=e.setComment,c=e.newCommentValue,m=e.remComment,i=e.editComment,r=e.focus,s=t.some(function(e){return e.active})?t.find(function(e){return e.active}).comments:[],l=t.findIndex(function(e){return e.active})+1,u=0!==l?o.a.createElement("div",{className:"c_input"},o.a.createElement("input",{autoFocus:!1,id:"cl_i",placeholder:"Enter text",onKeyUp:function(e){return e.ctrlKey&&13===e.keyCode?a():null},value:c,onChange:function(e){return n(e.target.value)},type:"text"}),o.a.createElement("button",{onClick:function(){return a()}},r?"Edit":"Add")):"";return o.a.createElement("div",{className:"comment_list"},o.a.createElement("div",{className:"c_container"},o.a.createElement("h1",null,0===l?"Choose item to comment":"Comment # ".concat(l)),s.map(function(e){return o.a.createElement(I,{key:e.id,remComment:m,comment:e,editComment:i})}),u))},h=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={todo:[{desc:"Todo 1",id:1,comments:[{text:"Adadad",id:1,avatar:"red"}],active:!1},{desc:"Todo 2",id:2,comments:[{text:"Adadad",id:2,avatar:"black"},{text:"Adadad",id:3,avatar:"red"}],active:!0}],newItemValue:"",newCommentValue:"",focus:!1,editCommentId:null},n.setActive=function(e){var t=Object(r.a)(n.state.todo).map(function(t){return t.id===e?t.active=!0:t.active=!1,t});console.log(t),n.setState({todo:t}),localStorage.setItem("todo",JSON.stringify(t))},n.remItem=function(e){var t=Object(r.a)(n.state.todo).findIndex(function(t){return t.id===e.id}),a=[].concat(Object(r.a)(n.state.todo.slice(0,t)),Object(r.a)(n.state.todo.slice(t+1)));n.setState({todo:a}),localStorage.setItem("todo",JSON.stringify(a))},n.remComment=function(e){var t=Object(r.a)(n.state.todo),a=t.findIndex(function(e){return e.active}),o=t[a].comments.findIndex(function(t){return t.id===e});t[a].comments.splice(o,1),n.setState({todo:t}),localStorage.setItem("todo",JSON.stringify(t))},n.setItem=function(){if(n.state.newItemValue.length>0){var e={desc:n.state.newItemValue,comments:[],active:!0,id:(new Date).getTime()};n.setState({todo:[].concat(Object(r.a)(n.state.todo.map(function(e){return e.active=!1,e})),[e]),newItemValue:""}),localStorage.setItem("todo",JSON.stringify([].concat(Object(r.a)(n.state.todo),[e])))}else alert("Please write value before add")},n.setComment=function(){var e=Object(r.a)(n.state.todo),t=Object(r.a)(n.state.todo).findIndex(function(e){return e.active});if(n.state.newCommentValue.length>0){if(n.state.focus){var a=e[t].comments.findIndex(function(e){return e.id===n.state.editCommentId});e[t].comments[a].text=n.state.newCommentValue,console.log(e[t].comments)}else{var o={id:(new Date).getTime(),avatar:["red","green","pink"][Math.floor(3*Math.random())],text:n.state.newCommentValue};e[t].comments.push(o)}n.setState({todo:e,newCommentValue:"",focus:!1,editCommentId:null}),localStorage.setItem("todo",JSON.stringify(e))}},n.editComment=function(e){var t=Object(r.a)(n.state.todo).find(function(e){return e.active}).comments.find(function(t){return t.id===e}).text;n.setState({newCommentValue:t,focus:!0,editCommentId:e}),document.getElementById("cl_i").focus()},n.setItemValue=function(e){n.setState({newItemValue:e})},n.setCommentValue=function(e){n.setState({newCommentValue:e})},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("todo")&&this.setState({todo:JSON.parse(localStorage.getItem("todo"))})}},{key:"render",value:function(){return o.a.createElement("div",{className:"m_container"},o.a.createElement(C,{setItemValue:this.setItemValue,setItem:this.setItem,remItem:this.remItem,setActive:this.setActive,todo:this.state.todo,newItemValue:this.state.newItemValue}),o.a.createElement(E,{setCommentValue:this.setCommentValue,todo:this.state.todo,setComment:this.setComment,newCommentValue:this.state.newCommentValue,remComment:this.remComment,focus:this.state.focus,editComment:this.editComment}))}}]),t}(o.a.Component),p=(n(22),function(){return o.a.createElement("div",{className:"app_container"},o.a.createElement(i,null),o.a.createElement(h,null))});m.a.render(o.a.createElement(p,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.ac0d6373.chunk.js.map